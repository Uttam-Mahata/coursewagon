<nav class="glass-nav sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex justify-between items-center h-16">
      <!-- Logo and Brand -->
      <a class="flex items-center gap-3 glass-button p-2 hover:bg-opacity-20" routerLink="/home" (click)="scrollToTop()">
        <img src="/coursewagon.png" alt="Course Wagon Logo" class="h-10 w-auto">
        <span class="font-bold text-xl bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent font-poppins">Course Wagon</span>
      </a>

      <!-- Mobile Menu Button -->
      <div class="lg:hidden">
        <button (click)="toggleNavbar()" class="glass-button p-3 text-gray-700 hover:text-blue-600 focus:outline-none focus:text-blue-600" title="Toggle Navbar">
          <fa-icon [icon]="isNavbarOpen ? faTimes : faBars" size="lg"></fa-icon>
        </button>
      </div>

      <!-- Desktop Menu -->
      <div class="hidden lg:flex lg:items-center lg:space-x-4">
        <ul class="flex items-center space-x-4">
          <!-- Show these items only when authenticated -->
          <ng-container *ngIf="isAuthenticated">
            <li>
              <a class="glass-button flex items-center gap-2 text-gray-700 hover:text-blue-600 transition-all font-poppins px-4 py-2" routerLink="/courses" (click)="scrollToTop()">
                <fa-icon [icon]="faGraduationCap" class="text-lg"></fa-icon> My Courses
              </a>
            </li>
   
            <!-- Admin Link - Only show for admin users -->
            <li *ngIf="isAdmin">
              <a class="glass-button flex items-center gap-2 text-gray-700 hover:text-purple-600 transition-all font-poppins px-4 py-2" routerLink="/admin" (click)="scrollToTop()">
                <fa-icon [icon]="faUserShield" class="text-lg"></fa-icon> Admin
              </a>
            </li>
   
            <li>
              <a class="glass-button flex items-center gap-2 text-gray-700 hover:text-blue-600 transition-all font-poppins px-4 py-2" routerLink="/profile" (click)="scrollToTop()">
                <fa-icon [icon]="faUser" class="text-lg"></fa-icon> Profile
              </a>
            </li>
            <li>
              <a class="glass-button flex items-center gap-2 text-gray-700 hover:text-red-600 transition-all font-poppins px-4 py-2 cursor-pointer" (click)="onLogout(); scrollToTop()">
                <fa-icon [icon]="faPowerOff" class="text-lg"></fa-icon> Logout
              </a>
            </li>
          </ng-container>

          <!-- Show login/signup when not authenticated -->
          <ng-container *ngIf="!isAuthenticated">
            <li>
              <a class="glass-button flex items-center gap-2 text-gray-700 hover:text-blue-600 transition-all font-poppins px-4 py-2" [routerLink]="['/auth']" [queryParams]="{mode: 'login'}" (click)="scrollToTop()">
                <fa-icon [icon]="faSignInAlt" class="text-lg"></fa-icon> Login
              </a>
            </li>
            <li>
              <a class="flex items-center gap-2 text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transition-all font-poppins px-6 py-2 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105" [routerLink]="['/auth']" [queryParams]="{mode: 'signup'}" (click)="scrollToTop()">
                <fa-icon [icon]="faUserPlus" class="text-lg"></fa-icon> Sign Up
              </a>
            </li>
          </ng-container>
        </ul>
      </div>
    </div>

    <!-- Mobile Menu (Collapsible) -->
    <div [ngClass]="{'block': isNavbarOpen, 'hidden': !isNavbarOpen}" class="lg:hidden pb-4">
       <div class="glass-morphism p-4 mt-2">
         <ul class="flex flex-col space-y-3">
            <!-- Show these items only when authenticated -->
            <ng-container *ngIf="isAuthenticated">
              <li>
                <a class="glass-button flex items-center gap-2 text-gray-700 hover:text-blue-600 transition-all font-poppins p-3 w-full" routerLink="/courses" (click)="toggleNavbar(); scrollToTop()">
                  <fa-icon [icon]="faGraduationCap" class="text-lg w-5 text-center"></fa-icon> My Courses
                </a>
              </li>

              <!-- Admin Link - Only show for admin users -->
              <li *ngIf="isAdmin">
                <a class="glass-button flex items-center gap-2 text-gray-700 hover:text-purple-600 transition-all font-poppins p-3 w-full" routerLink="/admin" (click)="toggleNavbar(); scrollToTop()">
                  <fa-icon [icon]="faUserShield" class="text-lg w-5 text-center"></fa-icon> Admin
                </a>
              </li>

              <li>
                <a class="glass-button flex items-center gap-2 text-gray-700 hover:text-blue-600 transition-all font-poppins p-3 w-full" routerLink="/profile" (click)="toggleNavbar(); scrollToTop()">
                  <fa-icon [icon]="faUser" class="text-lg w-5 text-center"></fa-icon> Profile
                </a>
              </li>
              <li>
                <a class="glass-button flex items-center gap-2 text-gray-700 hover:text-red-600 transition-all font-poppins p-3 w-full cursor-pointer" (click)="onLogout(); toggleNavbar(); scrollToTop()">
                  <fa-icon [icon]="faPowerOff" class="text-lg w-5 text-center"></fa-icon> Logout
                </a>
              </li>
            </ng-container>

            <!-- Mobile menu login/signup -->
            <ng-container *ngIf="!isAuthenticated">
              <li>
                <a class="glass-button flex items-center gap-2 text-gray-700 hover:text-blue-600 transition-all font-poppins p-3 w-full" [routerLink]="['/auth']" [queryParams]="{mode: 'login'}" (click)="toggleNavbar(); scrollToTop()">
                  <fa-icon [icon]="faSignInAlt" class="text-lg w-5 text-center"></fa-icon> Login
                </a>
              </li>
              <li>
                <a class="flex items-center gap-2 text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transition-all font-poppins px-4 py-3 rounded-xl w-full justify-center shadow-lg" [routerLink]="['/auth']" [queryParams]="{mode: 'signup'}" (click)="toggleNavbar(); scrollToTop()">
                  <fa-icon [icon]="faUserPlus" class="text-lg w-5 text-center"></fa-icon> Sign Up
                </a>
              </li>
            </ng-container>
          </ul>
       </div>
    </div>
  </div>
</nav>

<router-outlet></router-outlet>

<app-footer></app-footer>

